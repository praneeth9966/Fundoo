<div >
  <div fxFlex=10>
  </div>
  <div  fxLayoutAlign="center center" fxFlex fxLayout="row wrap" fxLayoutWrap fxLayout.xs="column"
   fxLayout.sm="column" fxLayoutGap="20px"
    style="height:auto;width:20px;margin-top: 30px">
      <div *ngIf="length!=0" style="width:100%">{{string}}</div>
    <mat-card  [ngClass]="{'grid': toggle,'list': !toggle}" class="example-card"
     *ngFor="let notes of array | LockFilter:searchBar"
    
     ngStyle.xs="width:100%"
          [ngStyle]="{'background-color':notes.color}">
     
        <!------------------------- Notes starts---------------------------->
        <div style="float:right"><app-pin [isPinedArray]="notes" (pinEvent)="getNotification($event)"></app-pin></div>

        <div (click)="update(notes)">
          <mat-card-header>
            <mat-card-title>
              <div contenteditable="false" dir="ltr" aria-multiline="true" 
              [innerHTML]="notes.title" role="textbox">{{notes.title}}</div>
            
            </mat-card-title>
          </mat-card-header>
          <mat-card-content class="content">
            <div contenteditable="false" aria-multiline="true" role="textbox" 
            [innerHTML]="notes.description"> {{notes.description}}
            </div>
          </mat-card-content>
        </div>
          <!------------------------- Notes ends---------------------------->

         <!------------------------- CheckList starts---------------------------->
         
        <div class="note" *ngFor="let checklist of notes.noteCheckLists" fxLayout="row" > 
            <mat-checkbox fxFlex="10%" *ngIf="checklist.status=='open'&& !checklist.isDeleted" 
            (click)=checkBox(checklist,notes.id)></mat-checkbox>
            <input *ngIf="!checklist.isDeleted && checklist.status=='open' " 
            [(ngModel)]=checklist.itemName fxFlex="90%" class="note"
               [ngStyle]="{'background-color':notes.color}">
           </div>
          
            <div class="note" *ngFor="let checklist of notes.noteCheckLists" fxLayout="row">
            <mat-checkbox fxFlex="10%" checked=true *ngIf="checklist.status=='close'&& !checklist.isDeleted"
             (click)=checkBox(checklist,notes.id)></mat-checkbox>
            <del *ngIf="!checklist.isDeleted && checklist.status=='close'"
             >{{checklist.itemName}}</del>
          </div>

          <div style="padding-top:5px"></div>

          <!------------------------- CheckList ends---------------------------->

        <!------------------------- Adding and Removing Labels starts------------------->
        <div fxLayout="row wrap">
          <div *ngFor="let items of notes.noteLabels">
            <mat-chip-list selected>
              <mat-chip class="labels" 
                *ngIf='items.isDeleted == false'>
               <span routerLink="/homepage/labels/{{items.label}}" (click)="labelRedirect(items.label)" class="flow">{{items.label}}
               </span>
                <mat-icon (click)="removeLabel(notes.id,items.id)" class="removeicon">
                cancel</mat-icon>
              </mat-chip>
            </mat-chip-list>
          </div>
        </div>
 
        <div style="padding-top:5px"></div>

          <!------------------------- Adding and Removing Labels ends------------------->
          
        <!------------------------- Adding and Removing Reminders starts------------------->

        <div fxLayout="row wrap" *ngIf="strikeReminder(notes.reminder[0])">
        <div  *ngFor="let reminder of notes.reminder">
            <mat-chip-list >
    
              <div  *ngIf='(todayDate | date:shortDate) == (reminder | date:shortDate )'>
              <mat-chip 
              style="margin-top:15px">
              Today, {{reminder |date:'shortTime'}}
               <app-remindme-icon style="opacity:0" [noteDetails]="notes" (addReminderEvent)="addReminder($event)">
               </app-remindme-icon>

              <mat-icon  matChipRemove (click)="removeReminder(notes.id)">cancel</mat-icon>
              </mat-chip>
            </div>
    
              <div  *ngIf='(tomorrowDate | date:shortDate) == (reminder | date:shortDate )'>
                  <mat-chip  style="margin-top:15px">
                      tomorrow, {{reminder |date:'shortTime'}}
                      <app-remindme-icon style="opacity:0" [noteDetails]="notes" (addReminderEvent)="addReminder($event)">
                      </app-remindme-icon>
       
                  <mat-icon  matChipRemove (click)="removeReminder(notes.id)">cancel</mat-icon>
                  </mat-chip>
                </div>
    
                <div  *ngIf='(todayDate | date:shortDate) !==(reminder | date:shortDate ) && 
                (tomorrowDate | date:shortDate) !== (reminder | date:shortDate )'>
                    <mat-chip style="margin-top:15px">
                    {{reminder |date:'medium'}}
                    <app-remindme-icon style="opacity:0" [noteDetails]="notes" (addReminderEvent)="addReminder($event)">
                    </app-remindme-icon>
     
                    <mat-icon  matChipRemove (click)="removeReminder(notes.id)">cancel</mat-icon>
                    </mat-chip>
                  </div>
            </mat-chip-list>
          </div>
        </div>

        <div fxLayout="row wrap" *ngIf="!strikeReminder(notes.reminder[0])">
          <div *ngFor="let reminder of notes.reminder">
              <mat-chip-list >
      
                <div *ngIf='(todayDate | date:shortDate) == (reminder | date:shortDate )'>
                <mat-chip style="margin-top:15px">
                <del> Today, {{reminder |date:'shortTime'}}</del>
                <mat-icon  matChipRemove (click)="removeReminder(notes.id)">cancel</mat-icon>
                </mat-chip>
              </div>
      
                <div *ngIf='(tomorrowDate | date:shortDate) == (reminder | date:shortDate )'>
                    <mat-chip style="margin-top:15px">
                      <del> tomorrow, {{reminder |date:'shortTime'}}</del>
                    <mat-icon  matChipRemove (click)="removeReminder(notes.id)">cancel</mat-icon>
                    </mat-chip>
                  </div>
      
                  <div *ngIf='(todayDate | date:shortDate) !==(reminder | date:shortDate ) && 
                  (tomorrowDate | date:shortDate) !== (reminder | date:shortDate )'>
                      <mat-chip style="margin-top:15px">
                      <del>{{reminder |date:'medium'}}</del>
                      <mat-icon  matChipRemove (click)="removeReminder(notes.id)">cancel</mat-icon>
                      </mat-chip>
                    </div>
          
              </mat-chip-list>
            </div>
            </div>
         <!------------------------- Adding and Removing Reminders ends------------------->

        <!----------------------- MatCardActions starts------------------------->

        <mat-card-actions>
          <div class="icons" fxLayoutAlign="space-between">
            <app-remindme-icon [noteDetails]="notes" 
            (addReminderEvent)="addReminder($event)"></app-remindme-icon>
            <app-collaborator-icon></app-collaborator-icon>
            <app-change-color-icon [notesArray]="notes.id" (noteColor)=messageColor($event)>
            </app-change-color-icon>
            <app-add-image-icon></app-add-image-icon>
            <app-archive-icon [archive]="notes" (archiveNote)="myArchiveNotes($event)" 
            (unArchiveNote)="unArchive($event)" ></app-archive-icon>
            <app-more-icon [notesArray]="notes" [name]="name" 
            (deleteNote)="getNotification($event)" (trashEvent)="trashFunc($event)" 
            (restoreEvent)="restoreFunc($event)"></app-more-icon>
          </div>
        </mat-card-actions>

         <!----------------------- MatCardActions ends------------------------->
    </mat-card>
  </div>
  <div fxFlex=10>
  </div>
</div>




